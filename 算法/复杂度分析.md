# 复杂度分析

数据结构和算法本身所解决的就是“快”和“省”的问题，即如何让代码运行得更快，以及如何让代码更省存储空间。所以，执行效率是算法中一个十分重要的考量指标。那么如何来衡量代码的执行效率呢？就得使用到时间复杂度分析和空间复杂度分析。

## 为什么需要复杂度分析？

首先思考，如何衡量代码的执行效率？

最直接的方式就是，把代码运行一遍，通过统计、监控等手段，得到代码运行所消耗的时间和占用的内存大小。的确，这种方式是正确的，很多数据结构和算法的书籍还给这种方法取了一个名字，叫做**事后统计法**。但是，这种方法有很大的局限性。

1. 测试结果非常依赖测试环境

> 同样的代码，处理同样的数据，但在不同机器上运行，其统计的结果不一致。例如，同一段代码在 i9 和 i3 处理器上执行的速度就会有很大差异。还有，原本在这台机器上 a 代码比 b 代码执行速度快，但是换到另一台机器上，结果可能相反。

2. 测试结果受数据规模的影响非常大

> 对于部分算法，可能会因为处理的数据集不同而对运行速度有很大影响。例如，对于同一个排序算法，待排序数据的有序度不同，排序的执行时间就会有很大差别。

所以，我们需要一个不用具体的测试数据来测试，就可以粗略估计算法的执行效率的方法。这就是下面要说的时间、空间复杂度分析法。

## 大O复杂度表示法

